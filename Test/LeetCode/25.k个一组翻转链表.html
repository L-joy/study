<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>mysite</title>
    <script>
        //给出一个链表，每 k 个节点一组进行翻转，并返回翻转后的链表。
        //k是一个正整数，它的值小于或等于链表的长度。如果节点总数不是 k 的整数倍，那么将最后剩余节点保持原有顺序。
        /**
         * Definition for singly-linked list.
         * function ListNode(val) {
         *     this.val = val;
         *     this.next = null;
         * }
         */
        /**
         * @param {ListNode} head
         * @param {number} k
         * @return {ListNode}
         */
        var reverseKGroup = function (head, k) {
            var newlist = new ListNode(0);
            var p = head, q = newlist;
            var count=0;
            var len = parseInt(length(head) / k);
            if (length(head) < k) {
                return head;
            } else {
                while (p != null) {
                    while(count<k) {

                        for (var j = 0; j < len; j++) {
                            var l3 = new ListNode(0);
                            var temp = l3;
                            for (var i = 0; i < k; i++) {
                                var x = (p != null) ? p.val : 0;
                                temp.next = new ListNode(x);
                                temp = temp.next;
                                if (p != null) {
                                    p = p.next;
                                    count++;
                                }
                            }
                            var reverseH = reverse(l3.next);
                            while (reverseH) {
                                var y = reverseH.val;
                                q.next = new ListNode(y);
                                q = q.next;
                                if (reverseH != null) {
                                    reverseH = reverseH.next;
                                }
                            }
                        }
                    }
                    if(p!=null){
                       var z= p.val;
                        q.next= new ListNode(z);
                        q= q.next;
                        if (p != null) {
                            p = p.next;
                        }
                    }
                }
                return newlist.next;
            }
        };
        var reverse = function (l3) {
            var reverseHead = new ListNode(0);
            var node = l3;
            var head = null;
            if(l3==null){
                return null;
            }
            while (node != null) {
                var nextNode = node.next;
                if (nextNode == null) {
                    reverseHead = node;
                }
                node.next = head;
                head = node;
                node = nextNode;
            }
            return reverseHead;
        };
        function ListNode(val) {
            this.val = val;
            this.next = null;
        }
        function length(head) {
            return head ? 1 + length(head.next) : 0;
        }
        var l1 = new ListNode(1);
        var l11 = new ListNode(2);
        var l111 = new ListNode(3);
        var l1111 = new ListNode(4);
        var l11111 = new ListNode(5);
//        var l111111 = new ListNode(6);
        l1.next = l11;
        l11.next = l111;
        l111.next = l1111;
        l1111.next = l11111;
//        l11111.next = l111111;
        var l2=new ListNode();
        var l3 = reverse(l2);
        while (l3) {
            console.log(l3.val);
            l3 = l3.next;
        }

    </script>
</head>
<body>

</body>
</html>