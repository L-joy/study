<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

</body>
<script>
    function Tree(val) {
        this.val = val;
        this.left = null;
        this.right = null;
    }
    function preOrder(root) {
        if (root === null){
            return [];
        }
        let pre = new Array();
        preorder(root,pre);
        return pre;
    }
    function preorder(root,pre) {
        if (root === null){
            return;
        }
        pre.push(root);
        preorder(root.left,pre);
        preorder(root.right,pre);
    }
    Array.prototype.treeMap = function(callback) {
        let result = [];
        let that = this;
        for (let i = 0; i < that.length; i++) {
            result.push(callback(that[i].val));
        }
        return result;
    };
    let root = new Tree(1);
    let left = new Tree(2);
    let right = new Tree(3);
    let left1 = new Tree(4);
    let left2 = new Tree(5);
    let right1 = new Tree(6);
    let right2 = new Tree(7);
    root.left = left;
    root.right = right;
    left.left = left1;
    left.right = left2;
    right.left = right1;
    right.right = right2;
    let arr = preOrder(root);
    console.log(arr.treeMap(x => x+1));

</script>
</html>